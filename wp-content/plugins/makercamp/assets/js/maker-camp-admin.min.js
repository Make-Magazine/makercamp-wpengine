/*! Maker Camp - v0.1.0
 * http://quorstudio.com
 * Copyright (c) 2015; * Licensed GPLv2+ */
!function(){"use strict";jQuery(document).ready(function(a){var b;a(document).on("click",".makercamp-file-uploader",function(c){var d=a(this);c.preventDefault();var e=a(this).hasClass("makercamp-image")?{type:"image"}:"";b=wp.media.frames.file_uploader_frame=wp.media({title:vars.uploader_title,button:{text:vars.uploader_button},library:e}),b.on("select",function(){var a=b.state().get("selection").first().toJSON();d.prev(".makercamp-file-uploaded").val(a.url)}),b.open()}),a(".makercamp-add-project").click(function(b){b.preventDefault();var c=a(".new-projects"),d=a(".project-sources").find("li").last().attr("data-index"),e=c.find("li").last().attr("data-index"),f=e?parseInt(e)+1:d?parseInt(d)+1:0,g='<li data-index="'+f+'"><input type="text" name="makercamp_project_source['+f+'][title]" placeholder="'+vars.title_placeholder+'" size="25" /><input type="text" name="makercamp_project_source['+f+'][url]" placeholder="'+vars.url_placeholder+'" size="25" /><a class="makercamp-project-delete" href="#">'+vars.link_delete+"</a></li>";c.append(g)}),a(".makercamp-add-material").click(function(b){b.preventDefault();var c=a(".new-materials"),d=a(".materials").find("li").last().attr("data-index"),e=c.find("li").last().attr("data-index"),f=e?parseInt(e)+1:d?parseInt(d)+1:0,g='<li data-index="'+f+'"><input type="text" name="makercamp_materials['+f+'][title]" placeholder="'+vars.title_placeholder+'" size="25" /><input type="text" class="makercamp-file-uploaded" name="makercamp_materials['+f+'][url]" placeholder="'+vars.url_placeholder_with_or+'" size="25" /><input type="button" class="button makercamp-file-uploader" value="'+vars.uploader_title+'" /><a class="makercamp-material-delete" href="#">'+vars.link_delete+"</a></li>";c.append(g)}),a(document).on("click",".makercamp-project-delete",function(b){b.preventDefault(),a(this).parent("li").remove()}),a(document).on("click",".makercamp-material-delete",function(b){b.preventDefault(),a(this).parent("li").remove()});var c=vars.custom_taxonomy_slug;a("#"+c+"checklist li :radio, #"+c+"checklist-pop :radio").live("click",function(){var b=a(this),d=b.is(":checked"),e=b.val();a("#"+c+"checklist li :radio, #"+c+"checklist-pop :radio").prop("checked",!1),a("#in-"+c+"-"+e+", #in-popular-"+c+"-"+e).prop("checked",d)}),a("#"+c+"-add .radio-tax-add").on("click",function(){var b=a("#"+c+"-add #new"+c).val(),d=a("#"+c+"-add #_wpnonce_radio-add-tag").val();a.post(ajaxurl,{action:"radio_tax_add_taxterm",term:b,"_wpnonce_radio-add-tag":d,taxonomy:c},function(b){a("#"+c+"checklist").append(b.html).find("li#"+c+"-"+b.term+" :radio").attr("checked",!0)},"json")})})}(this);